{"version":3,"sources":["components/Form.js","components/PersonList.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Form","newName","handleNameChange","handleNumberChange","newNumber","addName","value","onChange","type","onClick","PersonList","filteredPersons","deletePerson","map","person","key","name","number","id","Filter","props","handleFilterChange","Notification","message","includes","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","activeFilter","setActiveFilter","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","filterToShow","filter","toLowerCase","event","target","console","log","preventDefault","personObject","duplicateName","length","personToModify","window","confirm","returnedPerson","catch","error","returnPerson","concat","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.019dbbb6.chunk.js","sourcesContent":["import React from \"react\"\n\n\nconst Form = ({ \n\n    newName, \n    handleNameChange, \n    handleNumberChange, \n    newNumber, \n    addName\n    \n}) => {\n\n        return (\n            <form value={newName}>\n\n                <div>\n                    name:\n          <input onChange={handleNameChange} value={newName} />\n                </div>\n                <div>\n                    number:\n          <input onChange={handleNumberChange} value={newNumber} />\n                </div>\n                <div>\n                    <button type=\"submit\" onClick={addName}>add</button>\n                </div>\n            </form>\n        );\n    }\n\n\nexport default Form\n\n\n\n\n// Old Code Below: prior to refactoring 'Form' component // \n\n// < form\n// value = { newName }\n//     >\n\n//     <h2>add a new</h2>\n//     <div>\n//         name:\n//           <input\n//             onChange={handleNameChange}\n//             value={newName}\n//         />\n//     </div>\n//     <div>\n//         number:\n//           <input\n//             onChange={handleNumberChange}\n//             value={newNumber}\n//         />\n//     </div>\n//     <div>\n//         <button\n//             type=\"submit\"\n//             onClick={addName}\n//         >add</button>\n//     </div>\n//       </form >","import React from 'react'\n\n\n\nconst PersonList = ({ filteredPersons, deletePerson }) => {\n\n  return (\n     <>\n      {filteredPersons.map(person => \n            <p key={person.name}> {person.name} {person.number}\n                  <button\n            onClick={() => deletePerson(person.id, person.name)}>\n                   delete\n                  </button>\n           </p>\n      )}\n      </>\n\n  )}\n  \n\n\n\n\nexport default PersonList","import React from 'react'\n\nconst Filter = (props) => {\n\n    return (\n        <div>\n            filter shown with <input onChange={props.handleFilterChange} />\n        </div>\n  \n    )\n}\n\nexport default Filter\n\n\n\n\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    if (message.includes('Added') || message.includes('Updated')) {\n                \n    return (\n        <div className=\"addedMessage\">\n            {message}\n        </div>\n    )\n    }\n\n    else {\n        return (\n            <div className=\"errorMessage\">\n                {message}\n            </div>\n        )\n\n    }\n}\n\nexport default Notification\n\n","\n    import axios from 'axios'\n    const baseUrl = '/api/persons'\n\n    const getAll = () => {\n        const request = axios.get(baseUrl)\n        return request.then(response => response.data)\n    }\n\n    const create = newObject => {\n        const request = axios.post(baseUrl, newObject)\n        return request.then(response => response.data)\n\n    }\n\n    const update = (id, newObject) => {\n        const request = axios.put(`${baseUrl}/${id}`, newObject)\n        return request.then(response => response.data)\n}\n\n    const deletePerson = (id) => {\n        const request = axios.delete(`${baseUrl}/${id}`)\n        return request.then(response => response.data)\n    }\n        \n\n    \n\n    export default {\n        getAll,\n        create,\n        update,\n        deletePerson\n    }\n\n    ","import React, { useState, useEffect } from 'react'\nimport Form from './components/Form'\nimport Persons from './components/PersonList'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\n\nimport personsService from './services/persons'\n\n\n\n\nconst App = () => {\n\n \n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [activeFilter, setActiveFilter] = useState(true)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    personsService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n    \n\n  const deletePersonOf = (id, name) => {\n    if (window.confirm(`Do you really want to delete ${name}?`)) { \n     \n      setPersons(persons.filter(person => person.id !== id))\n      personsService\n      .deletePerson(id)\n      .then(() => {\n        setErrorMessage(\n          `Deleted ${name}`\n        )\n            setTimeout(() => {\n          setErrorMessage(null)\n        }, 4000)\n    } )\n  }\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n    setActiveFilter(false)\n    console.log(newFilter)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n     const duplicateName = persons.filter(person => person.name === newName) \n\n     if (duplicateName.length !== 0 ) {\n\n       const personToModify = duplicateName[0]\n       const confirmation = window.confirm(\n       `${newName} is already added to phonebook, replace the old number with a new one?`)\n\n       \n\n      if (confirmation) {\n       // Making a copy of the 'duplicateName array' as we cannot access the duplicateName (here we are in curly braces)\n        \n\n        personsService\n          .update(personToModify)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => \n              person.id === returnedPerson.id \n            ? returnedPerson \n            : person\n            ))\n            setErrorMessage(\n              `Updated ${personToModify.name}`\n            )\n          })\n          .catch(error => {\n            setPersons(\n              persons.filter(person => \n                person.id !== personToModify.id\n              )\n            )\n            setErrorMessage(\n              `Error - ${personToModify.name} has already been removed from the server`\n            )\n      })\n    }\n\n  } else {\n\n     \n  // add new name + number (person object) to the database // \n  personsService\n    .create(personObject)\n    .then(returnPerson => {\n      setPersons(persons.concat(returnPerson))\n      setErrorMessage(\n        `Added ${newName} `\n      )\n    })\n    .catch(error => {\n      console.log(error.response.data)\n      setErrorMessage(error.response.data)\n    })\n\n  }\n\n    setNewName('')\n    setNewNumber('')\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 3000)\n  }\n\n  const filterToShow = activeFilter\n    ? persons\n    : persons.filter(person => {\n      return person.name.toLowerCase().includes(newFilter.toLowerCase())\n    })\n\n      \n\n  return (\n    <div>\n     <h2>Phonebook</h2>\n     <Notification message={errorMessage}/>\n\n     <Filter handleFilterChange={handleFilterChange} />\n\n     <h3>add a new</h3>\n\n     <Form newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addName={addName}/>\n\n     <h2>Numbers</h2>\n    <Persons filteredPersons={filterToShow} deletePerson={deletePersonOf} />\n\n\n    </div>\n  )\n}\n\n  export default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport axios from 'axios'\n\nconst promise = axios.get(\"http://localhost:3001/api/persons\");\n\npromise.then((response) => {\n  console.log(response);\n});\n\nReactDOM.render(<App />,document.getElementById('root')\n);\n\n"],"sourceRoot":""}